<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>iAgency – Smarter Assistants</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⭐</text></svg>">
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
</head>

<body>
  <header class="navbar">
    <div class="logo">⭐ iAgency</div>
    <button class="menu-toggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="primary-navigation">☰</button>
    <nav id="primary-navigation" class="main-nav" aria-label="Primary">
      <ul>
        <!-- Dropdown Work -->
        <li class="dropdown">
          <!-- 5. Accesibilidad: aria-haspopup y aria-expanded -->
          <button type="button" class="dropdown-toggle" aria-haspopup="true" aria-expanded="false">
            Work <span class="arrow" aria-hidden="true">▼</span>
          </button>

          <!-- Mega menu -->
          <div class="dropdown-menu" role="menu">
            <div class="dropdown-content">
              <div class="menu-col">
                <p class="menu-label">ASSISTANTS</p>

                <a href="#" class="menu-item" role="menuitem">
                  <span class="icon">📄</span>
                  <span>
                    <strong>WhatsApp Bot</strong>
                    <small>Retail chat automation for sales</small>
                  </span>
                </a>

                <a href="#" class="menu-item" role="menuitem">
                  <span class="icon">📄</span>
                  <span>
                    <strong>CRM Auto-Filler</strong>
                    <small>AI-powered data entry</small>
                  </span>
                </a>

                <a href="#" class="menu-item" role="menuitem">
                  <span class="icon">📄</span>
                  <span>
                    <strong>Hotel Multichannel</strong>
                    <small>Unified guest messaging</small>
                  </span>
                </a>
              </div>

              <div class="menu-cta">
                <h3>See AI in action</h3>
                <p>View real automation projects</p>
                <a href="#" class="cta-link">View work →</a>
              </div>
            </div>
          </div>
        </li>

        <!-- Resto de links -->
        <li><a class="nav-link" href="#">About</a></li>
        <li><a class="nav-link" href="#">Contact</a></li>

        <!-- Dropdown Support -->
        <li class="dropdown">
          <button type="button" class="dropdown-toggle" aria-haspopup="true" aria-expanded="false">
            Support <span class="arrow" aria-hidden="true">▼</span>
          </button>

          <div class="dropdown-menu" role="menu">
            <div class="dropdown-content">
              <div class="menu-col">
                <p class="menu-label">SUPPORT</p>
                <a href="#" class="menu-item" role="menuitem">
                  <span class="icon">💬</span>
                  <span><strong>Chat</strong><small>Live help</small></span>
                </a>
                <a href="#" class="menu-item" role="menuitem">
                  <span class="icon">📚</span>
                  <span><strong>Docs</strong><small>Guides & API</small></span>
                </a>
              </div>
              <div class="menu-cta">
                <h3>Need help?</h3>
                <p>We’re here 24/7</p>
                <a href="#" class="cta-link">Open ticket →</a>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </nav>
    <a href="#" class="btn-primary">Get started</a>
  </header>

  <section class="hero">
    <div class="hero-text" data-aos="fade-up">
      <h1>Smarter Assistants.<br>Faster Growth.</h1>
      <p>Unlock AI automation tailored for real business impact.</p>
    </div>
    <div class="hero-images" data-aos="fade-up" data-aos-delay="100">
      <img src="/src/tabletdashboard.avif"
        alt="tablet dashboard">
      <img src="/src/techoffice.avif"
        alt="tech office">
      <img src="/src/office.avif"
        alt="team AI dashboard">
      <img
        src="/src/team.avif"
        alt="business meeting">
    </div>
  </section>

 <section class="feature-split">
  <div class="split-block with-stack">
    
    <!-- Imagen fija a la izquierda -->
    <div class="split-image sticky-image">
      <img
        src="/src/office2.avif"
        alt="Modern workspace">
    </div>

    <!-- Textos apilables -->
    <div class="split-text">
      <div class="stack-container">
        <div class="stack-card">
          <p class="label">MULTICHANNEL REACH</p>
          <h2>Support customers on every channel</h2>
          <p>Be everywhere your customers are. From WhatsApp to Instagram, offer fast, consistent AI-powered support — 24/7.</p>
        </div>

        <div class="stack-card">
          <p class="label">AI-POWERED AUTOMATION</p>
          <h2>Automate work. Accelerate growth.</h2>
          <p>Let AI handle the busywork. Empower your team to focus on innovation and real results.</p>
        </div>

        <div class="stack-card">
          <p class="label">SMART WORKFLOWS</p>
          <h2>Integrate seamlessly</h2>
          <p>Connect your tools and services to build custom workflows that save time and reduce errors.</p>
        </div>

        <div class="stack-card">
          <p class="label">24/7 SUPPORT</p>
          <h2>Always-on assistance</h2>
          <p>Your AI assistant never sleeps. Deliver reliable support across all your channels, any time of day.</p>
        </div>
      </div>
    </div>

  </div>
</section>




  <section class="contact">
    <div class="contact-content">
      <div class="contact-info" data-aos="fade-up">
        <p class="label">CONTACT</p>
        <h2>Let’s build your assistant</h2>
        <p class="subtitle">Reach out to start your AI project.</p>

        <div class="contact-item">
          <span class="icon">✉️</span>
          <div>
            <strong>Email</strong><br>
            <span>We reply within one business day.</span><br>
            <a href="mailto:hello@helloiagency.com">hello@helloiagency.com</a>
          </div>
        </div>

        <div class="contact-item">
          <span class="icon">💬</span>
          <div>
            <strong>Phone</strong><br>
            <span>Mon–Fri, 8:00–17:00 CET</span><br>
            +1 (555) 000–0000
          </div>
        </div>

        <div class="contact-item">
          <span class="icon">🛒</span>
          <div>
            <strong>Social</strong><br>
            <span>Find us on your favorite platform.</span><br>
            LinkedIn · Instagram · WhatsApp
          </div>
        </div>
      </div>

      <div class="contact-image" data-aos="fade-up" data-aos-delay="200">
        <img
          src="/src/office3.avif"
          alt="contact setup">
      </div>
    </div>
  </section>

  <footer class="footer" data-aos="fade-up">
    <div class="footer-icons">
      <span>📘</span>
      <span>📷</span>
      <span>𝕏</span>
      <span>💼</span>
      <span>▶️</span>
    </div>
    <p>© 2025 iAgency. All rights reserved.</p>
    <div class="footer-links">
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
      <a href="#">Cookies</a>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="/js/stacking.js"></script>
  <script>
    AOS.init({
      duration: 800,
      once: true
    });
  </script>
  <script>
    // Toggle del menú principal existente
    const menuBtn = document.querySelector('.menu-toggle');
    const navbar  = document.querySelector('.navbar');
    if (menuBtn && navbar) {
      menuBtn.addEventListener('click', () => {
        const expanded = menuBtn.getAttribute('aria-expanded') === 'true';
        menuBtn.setAttribute('aria-expanded', (!expanded).toString());
        navbar.classList.toggle('is-open');
      });
    }

    // Ajusta la posición del mega dropdown para evitar overflow
    function adjustDropdownPosition(menu) {
      if (!menu) return;
      if (window.matchMedia('(max-width: 1023px)').matches) {
        menu.style.transform = '';
        return;
      }
      menu.style.transform = 'translate(-50%, 0)';
      const rect = menu.getBoundingClientRect();
      const leftOverflow  = 12 - rect.left;
      const rightOverflow = rect.right - (window.innerWidth - 12);
      if (leftOverflow > 0) {
        menu.style.transform = `translate(calc(-50% + ${leftOverflow}px), 0)`;
      } else if (rightOverflow > 0) {
        menu.style.transform = `translate(calc(-50% - ${rightOverflow}px), 0)`;
      }
    }

    const dropdowns = document.querySelectorAll('.dropdown');

    function closeDropdown(drop) {
      drop.classList.remove('open');
      const t = drop.querySelector('.dropdown-toggle');
      if (t) t.setAttribute('aria-expanded', 'false');
    }

    dropdowns.forEach(drop => {
      const toggle = drop.querySelector('.dropdown-toggle');
      const menu   = drop.querySelector('.dropdown-menu');
      const items  = menu.querySelectorAll('.menu-item');

      function openDropdown(focusFirst = false) {
        document.querySelectorAll('.dropdown.open').forEach(d => {
          if (d !== drop) closeDropdown(d);
        });
        drop.classList.add('open');
        toggle.setAttribute('aria-expanded', 'true');
        adjustDropdownPosition(menu);
        if (focusFirst) items[0]?.focus();
      }

      // 7. Interacción: click para abrir/cerrar
      toggle.addEventListener('click', e => {
        e.preventDefault();
        drop.classList.contains('open') ? closeDropdown(drop) : openDropdown();
      });

      // Hover en desktop
      drop.addEventListener('mouseenter', () => {
        if (window.matchMedia('(hover:hover)').matches) openDropdown();
      });
      drop.addEventListener('mouseleave', () => {
        if (window.matchMedia('(hover:hover)').matches) closeDropdown(drop);
      });

      // Accesibilidad teclado
      toggle.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          drop.classList.contains('open') ? closeDropdown(drop) : openDropdown(true);
        } else if (e.key === 'ArrowDown') {
          e.preventDefault();
          if (!drop.classList.contains('open')) openDropdown(true);
          else items[0]?.focus();
        }
      });

      menu.addEventListener('keydown', e => {
        const idx = Array.from(items).indexOf(document.activeElement);
        if (e.key === 'ArrowDown') {
          e.preventDefault();
          const next = items[(idx + 1) % items.length];
          next.focus();
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          const prev = items[(idx - 1 + items.length) % items.length];
          prev.focus();
        } else if (e.key === 'Escape') {
          closeDropdown(drop);
          toggle.focus();
        }
      });

      menu.addEventListener('focusout', e => {
        if (!drop.contains(e.relatedTarget)) closeDropdown(drop);
      });
    });

    // Cierre al hacer click fuera
    document.addEventListener('click', e => {
      if (!e.target.closest('.dropdown')) {
        document.querySelectorAll('.dropdown.open').forEach(closeDropdown);
      }
    });

    // Recalcular en cambio de tamaño
    window.addEventListener('resize', () => {
      document.querySelectorAll('.dropdown.open > .dropdown-menu').forEach(adjustDropdownPosition);
    });

    // Cerrar con ESC desde cualquier lugar
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') {
        document.querySelectorAll('.dropdown.open').forEach(closeDropdown);
      }
    });
  </script>
</body>

</html>
